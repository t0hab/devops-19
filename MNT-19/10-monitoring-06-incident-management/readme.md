# Домашнее задание к занятию 17 «Инцидент-менеджмент»

## Основная часть

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информация о сбое: 

* [в виде краткой выжимки на русском языке](https://habr.com/ru/post/427301/);
* [развёрнуто на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).


# Ответ:

## Краткое описание инцидента
При замене сетевого оборудования произошло неожиданное перестроение топологии баз данных.

## Причина инцидента
Плановые работы по техническому обслуживанию для замены вышедшего из строя оптического оборудования 100G привели к потере связи между сетевым центром центром обработки данных.

## Воздействие
Ухудшение обслуживания в течение 24 часов и 11 минут.

## Обнаружение
Инцидент был замечен системой мониторинга. Были привлечены ответственные инженеры.

## Реакция
Команда устранила сбой и предприняла действия для сохранения целостности, безопасности и сохранности данных.

## Восстановление
Приостановлена работа сервиса, восстановлены данные из резервных копий, восстановленна топология отработки отказа.

## Таймлайн
`2018 Октябрь 21 22:52 UTC`Отработка отказа кластеров на Западном побережье США. Организация кластерных топологий баз данных

`2018 Октябрь 21 22:54 UTC`Оповещения о многочисленных сбоях. Топологии для многочисленных кластеров баз данных находятся в неожиданном состоянии.

`2018 Октябрь 21 23:07 UTC`Блокировка внутренние инструментов развертывания для предотвращения внесение каких-либо дополнительных изменений.

`2018 Октябрь 21 23:09 UTC`Сайт переведен в желтый статус. Предупреждение координатору инцидента.

`2018 Октябрь 21 23:11 UTC`Координатор инцидента измененил статус на красный.

`2018 Октябрь 21 23:13 UTC`Определение действий ручной настройки базы данных восточного побережья США в качестве основной для каждого кластера и перестройки топологии репликации.

`2018 Октябрь 21 23:19 UTC`Прекращение выполнения заданий записи метаданных о push-notification.

`2018 Октябрь 22 00:05 UTC`Разработка плана по устранению несоответствий данных и внедрению процедур отработки отказа для MySQL.

`2018 Октябрь 22 00:41 UTC`Резервное копирование кластеров MySQL.

`2018 Октябрь 22 06:51 UTC`Завершение восстановления резервных копий и начало репликации новых данных с западного побережья.

`2018 Октябрь 22 07:46 UTC`GitHub опубликовал сообщение в блоге.

`2018 Октябрь 22 11:12 UTC`Все базы данных восстановлены.

`2018 Октябрь 22 13:15 UTC`Начало подготовки дополнительных реплик чтения MySQL в общедоступном облаке.

`2018 Октябрь 22 16:24 UTC`Выполнение отработки отказа на исходную топологию.

`2018 Октябрь 22 16:45 UTC`Балансирование возросшей нагрузки.

`2018 Октябрь 22 23:03 UTC`Все ожидающие сборки были обработаны, целостность и надлежащая работа всех систем были восстановленны. Статус сайта обновлен до зеленого цвета.

## Последующие действия
Предпринятые меры для предотвращения сбоя:

Увеличение дублирования и устойчивости сетевой инфраструктуры.

Расширенние мониторинга и оповещения.

Обновление сетевого оборудования.

Регулярные аудиты актуальности и устойчивости инфраструктуры.

Публикация сообщений для пользователей о любых инцидентах и предпринятых действий для их устранения.

Повышение эффективности сценариев реагирования на сбои.